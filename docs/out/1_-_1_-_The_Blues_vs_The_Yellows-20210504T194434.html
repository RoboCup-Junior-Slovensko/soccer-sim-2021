<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>RCJ Soccer Sim</title>
    <link type="text/css" href="https://www.cyberbotics.com/jquery-ui/1.11.4/jquery-ui.min.css" rel="stylesheet"/>
    <link type="text/css" href="https://www.cyberbotics.com/wwi/R2021a/wwi.css" rel="stylesheet"/>
    <style>
      html, body {
        padding:0;
        height: 100%;
      }
      #view3d {
        height: calc(100% - 250px);
        width: 100%;
      }
      #time {
        font-family: Courier;
      }
    </style>
    <script src="https://www.cyberbotics.com/jquery/1.11.3/jquery.min.js" ></script>
    <script src="https://www.cyberbotics.com/jquery-ui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://www.cyberbotics.com/jquery-dialogextend/2.0.4/jquery.dialogextend.min.js"></script>
    <script src="https://www.cyberbotics.com/ace/1.2.0/ace.js"></script>
    <script src="https://www.cyberbotics.com/wwi/R2021a/webots.min.js"></script>
    <script>
      function init() {
          var view = new webots.View(document.getElementById("view3d"));
          console.log(view)

          setInterval(function(){
            console.log(view.time);
            let minutes = Math.floor(view.time / 60000);
            if (minutes < 10) minutes = "0" + minutes;
            let seconds = Math.floor((view.time % 60000) / 1000);
            if (seconds < 10) seconds = "0" + seconds;

            if (view.time === undefined) {
              minutes = "00";
              seconds = "00";
            }

            document.getElementById('time').innerHTML = minutes + ":" + seconds;
          }, 100);

          view.open("1_-_1_-_The_Blues_vs_The_Yellows-20210504T194434.x3d");
          view.setAnimation("1_-_1_-_The_Blues_vs_The_Yellows-20210504T194434.json", "play", false);
      }
      window.addEventListener("load", init, false);
      if (location.protocol == "file:" && (!!window.chrome && !!window.chrome.webstore))
        alert("Webots HTML5 Models and Animations cannot be loaded locally on Google Chrome, as Chrome does not support cross-origin requests using the file:// protocol.");
    </script>
  </head>
  <body>
    <h1>RCJ Soccer Sim</h1>
    <div id="view3d"></div>
    <p>A simple RCJ Soccer game simulated using Webots.<br/></p>
    <p>Time: <span id="time"></span></p>
  </body>
</html>
